## 使用蓝图 根路由/home

### 文件说明：
* ./\__init__.py  蓝图设置
* ./home_page.py  查询数据库等实现部分
* ./index.py 子路由设置

### 访问网址
47.94.133.35:5500
http://background.wfh-seller.com 

### 路由 及参数

------------------------------------------------
/home/heard_num     -- 首页上面的数字
* 参数
> 无
* 返回值
> {
  "data": {
    "integral": 0,           -- 应付积分返利
    "recommend": 0,          -- 应付推荐返利
    "sell": 0,               -- 应付销售返利
    "undone_rebate": 24.85,   -- 未完成返利
    "undone_saleroom": 2.0    -- 未完成销售额
  },
  "message": "ok"
}

-----------------------------------------------------------
/home/sell_trend     销售的折线图
* 参数
> start_time=2020-02-01   -- 开始时间(日期)
> end_time=2020-02-28   -- 结束时间(日期)
* 返回值
> {
  "data": {
    "data_list": [
      0,
      0,
      0,
      0,
      0,
      0,
      0
    ],
    "time_list": [
      "02-22",
      "02-23",
      "02-24",
      "02-25",
      "02-26",
      "02-27",
      "02-28"
    ]
  },
  "message": "ok"
}
------------------------------------------------------------
/home/order_list_show    订单列表展示
* 参数
> 无
* 返回值
> {
  "data": [
    {
      "avatar": "https://whf-store.oss-cn-beijing.aliyuncs.com/icon/1582799985985eeffdb16293b68f38799088bd4e5b.png",  -- 用户的头像
      "goods_title": "WFH荒野健康乳清蛋白粉2磅",  -- 商品名称
      "real_price": 1.0,                      -- 付款价格
      "user_id": "WFH70312768"                -- 用户的id
    },
    {
      "avatar": "https://whf-store.oss-cn-beijing.aliyuncs.com/icon/15827999875cef3c557d8dfabe4659008879d914bb.png",
      "goods_title": "WFH荒野健康乳清蛋白粉考拉系列1磅",
      "real_price": 248.0,
      "user_id": "WFH63115600"
    }
  ],
  "message": "ok"
}

------------------------------------------------------------------------
/home/order_num    订单的数量信息
* 参数
> 无
* 返回值
> {
  "data": {
    "all_count": 4,             -- 完成的所有订单的数量
    "all_money": 992.0          -- 完成的金额
  },
  "message": "ok"
} 
--------------------------------------------
/home/user_info        用户信息
* 参数
> type    -- 查看用户的类型  all: 所有用户    new: 新用户  active: 活动用户
* 返回值
1. type ： all
> {
  "data": {
    "level_1": 20,             -- 1级的用户
    "level_2": 2,
    "level_3": 1,
    "level_4": 0,
    "level_5": 0,
    "real_name_num": 8,        -- 已经实名制的用户
    "un_real_name_num": 15      -- 未实名用户
    "super_num": 5,            -- 管理员用户
    "super_relevance_num": 2,   -- 管理员关联用户
    "general_num": 18,         -- 普通用户
  },
  "message": "ok"
}
2. type ： new
> {
  "data": {
    "user_count": 1,                  -- 用户数量
    "user_list": [
      {
        "add_time": "2020-02-29 11:55:46",   -- 用户添加时间
        "user_id": "WFH48421486"             -- 用户id
      }
    ]
  },
  "message": "ok"
}
3. type ： active
> {
  "data": {
    "user_count": 5,    -- 活动数量
    "user_list": [
      {
        "add_time": "2020-02-29 11:55:46",  -- 最近的登录时间
        "user_id": "WFH48421486"            -- 用户的id
      },
      {
        "add_time": "2020-02-28 23:18:27",
        "user_id": "WFH64512253"
      },
      {
        "add_time": "2020-02-28 22:48:13",
        "user_id": "WFH59768597"
      },
      {
        "add_time": "2020-02-28 19:49:09",
        "user_id": "WFH63115600"
      },
      {
        "add_time": "2020-02-28 19:42:11",
        "user_id": "WFH70312768"
      }
    ]
  },
  "message": "ok"
}

-----------------------------------------
/home/rebate_ratio   各个返利比例(需要自己除一下)
* 参数
> 无
* 返回值
> {
  "data": {
    "activity_rebate": 0,               -- 优惠券活动返利
    "all_rebate": 1060.0,               -- 所有返利(都除以它)
    "general_invite_rebate": 1050.0,    -- 普通用户邀请返利
    "integral_rebate": 10.0,            -- 积分返利
    "sell_rebate": 0,                   -- 销售返利
    "super_invite_rebate": 0            -- 代理用户邀请返利
  },
  "message": "ok"
}

---------------------------------------------
/home/user_map    -- 用户或销售的地图 （数据结构不合适可以调）
* 参数
> type   user: 用户地图    sell: 销售地图
* 返回值
> {
  "data": [
    {
      "count": 1,              -- 数量
      "province": "广东"        -- 城市
    },
    {
      "count": 5,
      "province": "北京"
    }
  ],
  "message": "ok"
}