<template>
  <div class="spgl">
    <spgl-list ref="spglList" v-if="component === 'SpglList'" @toggle-component='toggleComponent' :current='current'></spgl-list>
    <spgl-detail ref="spglDetail" v-else @toggle-component='toggleComponent' :current='current'></spgl-detail>
  </div>
</template>

<script>
import SpglDetail from './SpglComponents/SpglDetail'
import SpglList from './SpglComponents/SpglList'
export default {
  name: 'spgl',
  components: {
    'spgl-detail': SpglDetail,
    'spgl-list': SpglList
  },
  data () {
    return {
      component: 'SpglList',
      current: {}
    }
  },
  methods: {
    toggleComponent (val) {
      if (val.action === 'newGoods') {
        this.current = val.current
        this.component = 'SpglDetail'
        } else if (val.action === 'cancel') {
          this.component = 'SpglList'
        } else if (val.action === 'edit') {
          this.component = 'SpglDetail'
        }
    }
  }
}
</script>

<style lang='less' scoped></style>
